"use strict";angular.module("sylwia",["ngCookies","ngResource","ngSanitize","ngRoute"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",activetab:"about"}).when("/portfolio/:project?",{templateUrl:"views/portfolio.html",controller:"PortfolioCtrl",reloadOnSearch:!1,activetab:"portfolio"}).when("/offer",{templateUrl:"views/offer.html",controller:"OfferCtrl",activetab:"offer"}).when("/contact",{templateUrl:"views/contact.html",controller:"ContactCtrl",activetab:"contact"}).when("/eligibilities",{templateUrl:"views/eligibilities.html",controller:"EligibilitiesCtrl",activetab:"eligibilities"}).when("/kitchens",{templateUrl:"views/kitchen.html",controller:"KitchenCtrl",activetab:"kitchens"}).otherwise({redirectTo:"/"})}]),angular.module("sylwia").controller("MainCtrl",function(){}),angular.module("sylwia").controller("OfferCtrl",["$scope","$http",function(a,b){b.get("resources/offerImages.json").then(function(b){a.offerImages=b.data})}]),angular.module("sylwia").controller("PortfolioCtrl",["$scope","$routeParams","$location","projectsService","$http",function(a,b,c,d,e){d.getProjects.success(function(d){a.intro=d.intro,a.projects=d.projects;var e=_.indexBy(a.projects,"url");if(b.project){var f=e[b.project];f?a.showProject(f):(c.url("/portfolio"),a.$apply())}}),a.showProject=function(b){a.mainProject=b,d.getProjectHtml(b.fullDescriptionHtml).success(function(b){a.mainProjectHtml=b}),$("#single-project").modal("show"),$(".carousel").carousel(),console.log($(".carousel").html())},a.hideProject=function(){a.$apply(c.path(c.path().replace("/"+b.project,"")))},$("#single-project").on("hide.bs.modal",function(){a.hideProject()}),a.imagesPromise=e.get("resources/portfolioSlider.json")}]),angular.module("sylwia").controller("MenuCtrl",["$scope","$route",function(a,b){a.activeTab=function(){return b.current.activetab}}]),angular.module("sylwia").controller("MapCtrl",["$scope","$route","mapService",function(a,b,c){c("small-map"),a.activeTab=function(){return b.current.activetab}}]),angular.module("sylwia").controller("ContactCtrl",["$scope","mapService",function(a,b){b("big-map")}]),angular.module("sylwia").controller("EligibilitiesCtrl",["$scope","$http",function(a,b){b.get("resources/eligibilities.json").then(function(b){a.images=b.data})}]),angular.module("sylwia").controller("KitchenCtrl",["$scope","$http",function(a,b){a.imagesPromise=b.get("resources/kitchenSlider.json")}]),angular.module("sylwia").directive("project",function(){return{scope:{project:"=project"},templateUrl:"views/projectDirective.html"}}),angular.module("sylwia").directive("projectImage",function(){return{scope:{image:"=",url:"=",position:"@"},link:function(a){a.show=a.image.position===a.position},templateUrl:"views/projectImageDirective.html"}}),angular.module("sylwia").directive("imageSlider",function(){return{scope:{imagesPromise:"="},link:function(a,b){var c=b;c.carousel(),a.nextSliderItem=function(){c.carousel("next")},a.prevSliderItem=function(){c.carousel("prev")},a.slideTo=function(a){c.carousel(a)},a.imagesPromise.then(function(b){a.sliderItems=b.data})},templateUrl:"views/imageSlider.html"}}),angular.module("sylwia").service("projectsService",["$http",function(a){return{getProjects:a.get("resources/projects.json"),getProjectHtml:function(b){return a.get(b)}}}]),angular.module("sylwia").service("offerService",["$http",function(a){return a.get("resources/offer.html")}]),angular.module("sylwia").service("mapService",function(){var a=function(a,b,c){var d=document.getElementById(c),e=new google.maps.LatLng(a,b),f={center:e,zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP,styles:[{stylers:[{saturation:-100},{gamma:1}]},{elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"poi.business",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"poi.place_of_worship",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi.place_of_worship",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"water",stylers:[{visibility:"on"},{saturation:50},{gamma:0},{hue:"#50a5d1"}]},{featureType:"administrative.neighborhood",elementType:"labels.text.fill",stylers:[{color:"#333333"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{weight:.5},{color:"#333333"}]},{featureType:"transit.station",elementType:"labels.icon",stylers:[{gamma:1},{saturation:50}]}]},g=new google.maps.Map(d,f);new google.maps.Marker({position:e,map:g,title:"Firma!",icon:"images/marker.png"})};return _.partial(a,52.18505,21.589309)});